{"version":3,"file":"react-katex.mjs","sources":["../index.js"],"sourcesContent":["import React, { memo } from 'react';\nimport PropTypes from 'prop-types';\nimport KaTeX from 'katex';\n\nfunction TeX(props) {\n  const otherProps = omit(\n    ['children', 'math', 'block', 'errorColor', 'renderError', 'settings'],\n    props\n  );\n  const Component = props.block ? 'div' : 'span';\n  const content = props.children || props.math;\n\n  try {\n    const html = KaTeX.renderToString(\n      content,\n      Object.assign(\n        {},\n        {\n          displayMode: !!props.block,\n          errorColor: props.errorColor,\n          throwOnError: !!props.renderError\n        },\n        // you can rewrite all KaTeX options directly\n        props.settings\n      )\n    );\n\n    return (\n      <Component {...otherProps} dangerouslySetInnerHTML={{ __html: html }} />\n    );\n  } catch (error) {\n    if (error instanceof KaTeX.ParseError || error instanceof TypeError) {\n      return props.renderError ? (\n        props.renderError(error)\n      ) : (\n        <Component\n          {...otherProps}\n          dangerouslySetInnerHTML={{ __html: error.message }}\n        />\n      );\n    }\n\n    throw error;\n  }\n}\n\nTeX.propTypes = {\n  children: PropTypes.string,\n  math: PropTypes.string,\n  block: PropTypes.bool,\n  errorColor: PropTypes.string,\n  renderError: PropTypes.func,\n  settings: PropTypes.object\n};\n\nexport default memo(TeX);\n\nfunction omit(keys, obj) {\n  return Object.keys(obj).reduce(\n    (acc, key) => (keys.includes(key) ? acc : ((acc[key] = obj[key]), acc)),\n    {}\n  );\n}\n"],"names":["TeX","props","const","otherProps","Component","block","content","children","math","html","KaTeX","renderToString","Object","assign","displayMode","errorColor","throwOnError","renderError","settings","error","ParseError","TypeError","propTypes","PropTypes"],"mappings":"+EAIA,SAASA,EAAIC,GACXC,QAAMC,KACJ,CAAC,WAAY,OAAQ,QAAS,aAAc,cAAe,cAC3DF,iFAEIG,EAAYH,EAAMI,MAAQ,MAAQ,OAClCC,EAAUL,EAAMM,UAAYN,EAAMO,KAExC,IACEN,IAAMO,EAAOC,EAAMC,eACjBL,EACAM,OAAOC,OACL,GACA,CACEC,cAAeb,EAAMI,MACrBU,WAAYd,EAAMc,WAClBC,eAAgBf,EAAMgB,aAGxBhB,EAAMiB,WAIV,yFAGOC,GACP,GAAIA,aAAiBT,EAAMU,YAAcD,aAAiBE,UACxD,OAAOpB,EAAMgB,YACXhB,EAAMgB,YAAYE,kGAgBxBG,WACAf,kBACAC,cACAH,6DAKYkB"}